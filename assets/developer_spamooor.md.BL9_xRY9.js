import{_ as i,c as a,a3 as t,o as e}from"./chunks/framework.ohJJpums.js";const g=JSON.parse('{"title":"Load testing with spamooor","description":"","frontmatter":{},"headers":[],"relativePath":"developer/spamooor.md","filePath":"developer/spamooor.md","lastUpdated":1738177820000}'),n={name:"developer/spamooor.md"};function h(p,s,l,o,k,r){return e(),a("div",null,s[0]||(s[0]=[t(`<h1 id="load-testing-with-spamooor" tabindex="-1">Load testing with <code>spamooor</code> <a class="header-anchor" href="#load-testing-with-spamooor" aria-label="Permalink to &quot;Load testing with \`spamooor\`&quot;">​</a></h1><p><code>spamooor</code> is a load testing tool for EVMs that is a fork <a href="https://github.com/ethpandaops/goomy-blob" target="_blank" rel="noreferrer">ethpandaops/goomy-blob</a>.</p><h2 id="clone-and-build-spamooor" tabindex="-1">Clone and Build <code>spamooor</code> <a class="header-anchor" href="#clone-and-build-spamooor" aria-label="Permalink to &quot;Clone and Build \`spamooor\`&quot;">​</a></h2><p>Clone and build the <a href="https://github.com/astriaorg/spamooor" target="_blank" rel="noreferrer"><code>spamooor</code> transaction spamming tool</a>.</p><p>Requirements:</p><ul><li><a href="https://go.dev/doc/install" target="_blank" rel="noreferrer">Go</a></li></ul><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-6eYPs" id="tab-pGMDgbo" checked><label data-title="SSH" for="tab-pGMDgbo">SSH</label><input type="radio" name="group-6eYPs" id="tab-kMWLmiK"><label data-title="HTTPS" for="tab-kMWLmiK">HTTPS</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@github.com:astriaorg/spamooor.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> spamooor/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./cmd/spamooor</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./spamooor</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/astriaorg/spamooor.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> spamooor/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./cmd/spamooor</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./spamooor</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span></span></code></pre></div></div></div><h2 id="setup-your-environment-for-spamooor" tabindex="-1">Setup Your Environment for <code>spamooor</code> <a class="header-anchor" href="#setup-your-environment-for-spamooor" aria-label="Permalink to &quot;Setup Your Environment for \`spamooor\`&quot;">​</a></h2><p>There are several <code>spamooor</code> settings that you can configure:</p><ul><li><code>max-wallets</code>: The number of child wallets that will be created.</li><li><code>throughput</code>: The number of transactions to send per block.</li><li><code>count</code>: The total number of transfer transactions to send.</li><li><code>timeout</code>: The number of seconds to wait before the <code>spamooor</code> test times out.</li><li><code>gas-units-to-burn</code>: The approximate amount of gas your transactions will burn.</li></ul><p>Add these settings to your environment:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SPAMOOOR_MAX_WALLETS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;10&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SPAMOOOR_THROUGHPUT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;50&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SPAMOOOR_COUNT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;100&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SPAMOOOR_TIMEOUT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;20&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SPAMOOOR_GAS_UNITS_TO_BURN</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;5000000&quot;</span></span></code></pre></div><h2 id="generate-transactions" tabindex="-1">Generate Transactions <a class="header-anchor" href="#generate-transactions" aria-label="Permalink to &quot;Generate Transactions&quot;">​</a></h2><p>With your sequencer, rollup, and <code>spamooor</code> setup, you can now send test transactions:</p><p>Send transfers:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./spamooor</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eoatx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --privkey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $PRIV_KEY </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--rpchost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $ROLLUP_RPC </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--max-wallets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SPAMOOOR_MAX_WALLETS </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--throughput</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SPAMOOOR_THROUGHPUT </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SPAMOOOR_COUNT</span></span></code></pre></div><p>Send ERC20 transfers:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./spamooor</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> erctx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --privkey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $PRIV_KEY </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--rpchost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $ROLLUP_RPC </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--max-wallets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SPAMOOOR_MAX_WALLETS </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--throughput</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SPAMOOOR_THROUGHPUT </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SPAMOOOR_COUNT </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--timeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SPAMOOOR_TIMEOUT</span></span></code></pre></div><p>Send gas burner transactions:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./spamooor</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gasburnertx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --privkey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $PRIV_KEY </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--rpchost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $ROLLUP_RPC </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--max-wallets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SPAMOOOR_MAX_WALLETS </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--throughput</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SPAMOOOR_THROUGHPUT </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SPAMOOOR_COUNT </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--timeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SPAMOOOR_TIMEOUT </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--gas-units-to-burn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SPAMOOOR_GAS_UNITS_TO_BURN</span></span></code></pre></div><p>Send transactions that will revert:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./spamooor</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> revertingtx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --privkey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $PRIV_KEY </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--rpchost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $ROLLUP_RPC </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--max-wallets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SPAMOOOR_MAX_WALLETS </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--throughput</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SPAMOOOR_THROUGHPUT </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SPAMOOOR_COUNT</span></span></code></pre></div>`,22)]))}const c=i(n,[["render",h]]);export{g as __pageData,c as default};
